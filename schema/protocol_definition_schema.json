{  "$schema": "http://json-schema.org/draft-07/schema#",  "$id": "http://agi.sovereign/protocol_definition_schema.json",  "title": "Sovereign Protocol Definition Schema (v2.0)",  "description": "Standardized definition schema for Protocol Integrity Manager (PIM) protocols, emphasizing modularity, execution configuration, and failure handling.",  "type": "object",  "properties": {    "metadata": {      "type": "object",      "description": "Descriptive metadata about the protocol.",      "properties": {        "protocol_id": {          "type": "string",          "description": "Unique, immutable identifier for the protocol (e.g., PIM-GAX-941).",          "pattern": "^[A-Z0-9_-]{3,50}$"        },        "name": {          "type": "string",          "minLength": 3        },        "description": {          "type": "string"        },        "version": {          "type": "string",          "pattern": "^v(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?(?:\\+([0-9A-Za-z-]+(?:\\.[0-9A-Za-z-]+)*))?$",          "description": "Semantic versioning (semver) required."        },        "security_level": {          "$ref": "#/$defs/SecurityLevel"        }      },      "required": ["protocol_id", "version", "security_level", "name"]    },    "logging_policy": {      "type": "string",      "enum": ["FullTrace", "ExecutionSummary", "FailureOnly"],      "default": "FailureOnly",      "description": "Level of detail recorded during protocol execution."    },    "required_steps": {      "type": "array",      "description": "Ordered execution path defining the sequence of verification sub-routines.",      "minItems": 1,      "items": {        "$ref": "#/$defs/StepDefinition"      }    }  },  "required": ["metadata", "required_steps"],  "$defs": {    "SecurityLevel": {      "type": "string",      "enum": ["L0_Debug", "L1_Low", "L2_Medium", "L3_High", "L4_Critical", "L5_Extreme"],      "description": "The security classification quantifying the risk associated with protocol failure."    },    "FailureAction": {      "type": "string",      "enum": ["HaltExecution", "ContinueWarning", "RetryStep"],      "description": "Action taken if this specific step fails."    },    "StepDefinition": {      "type": "object",      "description": "Configuration for a single verification step.",      "properties": {        "step_id": {          "type": "string",          "description": "Unique identifier for this step within the protocol."        },        "description": {          "type": "string"        },        "verifier_module": {          "type": "string",          "format": "uri-reference",          "description": "URI reference or internal system path to the executable module (e.g., 'modules/crypto/hash_check_v1')."        },        "timeout_ms": {          "type": "integer",          "minimum": 100,          "default": 5000        },        "on_failure": {          "$ref": "#/$defs/FailureAction",          "default": "HaltExecution"        },        "configuration": {          "type": "object",          "description": "Key/value configuration parameters passed directly to the verifier module instance."        }      },      "required": ["step_id", "verifier_module"]    }  }}