{
  "contract_id": "PPC-V2.0",
  "name": "Refined Proposal Payload Contract (SST)",
  "schema_version": "2.0",
  "description": "Defines the precise structural requirements for System State Transition (SST) proposal payloads, ensuring full compliance for ingestion by GSEP-C L0 (SCR) and providing necessary semantic context for downstream validation components (L1, L3, L5).",
  "validation_schema": [
    {
      "field": "proposal_metadata",
      "type": "object",
      "level": "CRITICAL",
      "purpose": "Establish immutable provenance required by L3 (ACM) and trackability.",
      "definition": {
        "proposal_id": {"type": "string", "format": "uuid|seq", "description": "Unique identifier for the proposal.", "required": true},
        "author_entity": {"type": "string", "pattern": "^[A-Z]{3}-[A-Z0-9]{5}$", "description": "Standardized entity identifier.", "required": true},
        "timestamp": {"type": "number", "format": "unix_ms", "description": "Creation time.", "required": true},
        "target_architecture_version": {"type": "string", "pattern": "^v[0-9]{2}\.[0-9]{1}$", "description": "System architecture version this proposal targets.", "required": true}
      }
    },
    {
      "field": "change_manifest",
      "type": "object",
      "level": "HIGH",
      "purpose": "Provide comprehensive context for L1 (OCM) and L2 (CBM) risk/audit assessment.",
      "definition": {
        "files_affected": {"type": "array", "item_type": "string", "min_items": 1, "required": true},
        "scope_description": {"type": "string", "min_length": 50, "required": true},
        "justification_summary": {"type": "string", "min_length": 100, "required": true}
      }
    },
    {
      "field": "simulation_evidence_matrix",
      "type": "array",
      "level": "CRITICAL",
      "min_length": 1,
      "purpose": "Provide verifiable pre-calculated metrics input required by L5 (MSB) for validation (S-01/S-02 prediction).",
      "requirements": ["Each entry must include 'simulation_hash' and 'result_metrics'"],
      "semantic_alias": "mee_simulation_parameters"
    },
    {
      "field": "proposal_action_payload",
      "type": "object",
      "level": "CRITICAL",
      "purpose": "Contains the actual executable changes (code, configuration diffs, operational commands) for L0 ingestion and execution.",
      "definition": {
        "action_type": {"type": "string", "enum": ["CODE_EVOLUTION", "CONFIG_UPDATE", "STATE_TRANSITION"], "required": true},
        "payload_data": {"type": "object", "description": "Action specific parameters.", "required": true}
      }
    }
  ]
}