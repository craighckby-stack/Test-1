{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GAX Constraint Strictness Profiles (Risk-Tiered)",
  "description": "Defines abstract, risk-based validation threshold overrides for ACVT metrics. Profiles inherit from BASE_PROFILE, only requiring overrides for specific metrics.",
  "type": "object",
  "properties": {
    "BASE_PROFILE": {
      "type": "object",
      "description": "The mandatory baseline constraints applied if no specific profile is matched.",
      "properties": {
        "max_compute_delta_percent": {"type": "number", "description": "Max allowed relative change in compute usage (e.g., CPU cycles)."},
        "max_memory_delta_mb": {"type": "number", "description": "Max allowed absolute increase in resident memory usage."},
        "max_io_latency_shift_ms": {"type": "number", "description": "Max allowed absolute shift in critical I/O path latency."},
        "security_severity_rejection_threshold": {"type": "number", "description": "Minimum security severity score (e.g., CVSSv3) that triggers automatic rejection of the evolution."},
        "max_tco_factor_change": {"type": "number", "description": "Max allowed relative change in Total Cost of Ownership factor."}
      },
      "required": ["max_compute_delta_percent", "max_memory_delta_mb", "max_io_latency_shift_ms", "security_severity_rejection_threshold", "max_tco_factor_change"]
    },
    "PROFILES": {
      "type": "object",
      "description": "Named, abstract strictness profiles (e.g., CRITICAL, HIGH_TCO). These override BASE_PROFILE metrics.",
      "properties": {
        "CRITICAL_PERFORMANCE": {
          "type": "object",
          "description": "Extremely tight constraints for core scheduling and execution paths.",
          "properties": {
            "max_compute_delta_percent": {"type": "number", "default": 0.1},
            "max_io_latency_shift_ms": {"type": "number", "default": 0.05}
          },
          "additionalProperties": false
        },
        "HIGH_CAPACITY_TCO": {
          "type": "object",
          "description": "Relaxed memory constraints, rigorous TCO and long-term stability scrutiny.",
          "properties": {
            "max_memory_delta_mb": {"type": "number", "default": 4096.0},
            "max_tco_factor_change": {"type": "number", "default": 0.05}
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": {
        "type": "object",
        "description": "Schema for arbitrary profile overrides.",
        "properties": {
          "max_compute_delta_percent": {"type": "number"},
          "max_memory_delta_mb": {"type": "number"},
          "max_io_latency_shift_ms": {"type": "number"},
          "security_severity_rejection_threshold": {"type": "number"},
          "max_tco_factor_change": {"type": "number"}
        }
      }
    }
  },
  "required": ["BASE_PROFILE", "PROFILES"]
}