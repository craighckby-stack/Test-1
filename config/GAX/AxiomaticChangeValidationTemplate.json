{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://agi.sovereign/schemas/AxiomaticChangeValidationTemplate_v2.0.json",
  "title": "Axiomatic Change Validation Request Template (v2.0)",
  "description": "Defines the required structure for any proposed systemic code change (Refactoring, Feature, Bugfix) that requires GAX approval/validation before execution.",
  "type": "object",
  "required": [
    "change_id",
    "target_scope",
    "validation_context",
    "assertions"
  ],
  "properties": {
    "change_id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique UUID for the change proposal evolution cycle."
    },
    "originator": {
      "type": "string",
      "enum": [
        "Sovereign_AGI/v94.1",
        "System_Scheduler",
        "Human_Override"
      ],
      "default": "Sovereign_AGI/v94.1"
    },
    "target_scope": {
      "type": "array",
      "description": "List of files, modules, or services affected by the change.",
      "items": {
        "type": "string"
      }
    },
    "validation_context": {
      "type": "object",
      "description": "Pre-computed efficiency and risk metrics integrated directly from the planning phase.",
      "properties": {
        "complexity_delta_score": {
          "type": "number",
          "description": "Change in calculated cognitive load / cyclomatic complexity (negative is improved efficiency)."
        },
        "security_risk_score_v94": {
          "type": "number",
          "description": "Aggregate risk score (0-100) based on vulnerability analysis."
        },
        "expected_runtime_overhead_ms": {
          "type": "number",
          "description": "Predicted worst-case latency increase."
        }
      },
      "required": [
        "complexity_delta_score",
        "security_risk_score_v94"
      ]
    },
    "assertions": {
      "type": "array",
      "description": "The specific axioms (rules) the change must satisfy to be considered valid and mergeable.",
      "items": {
        "type": "object",
        "required": [
          "axiom_id",
          "required_status",
          "failure_mode"
        ],
        "properties": {
          "axiom_id": {
            "type": "string",
            "description": "Reference to the globally defined GAX Axiom, e.g., GAX-E-001 (Energy Efficiency)."
          },
          "required_status": {
            "type": "string",
            "enum": [
              "PASSED",
              "SKIPPED",
              "CONDITIONALLY_PASSED"
            ],
            "description": "The required outcome from the validation engine."
          },
          "failure_mode": {
            "type": "string",
            "enum": [
              "BLOCK_MERGE",
              "WARN_AND_LOG",
              "AUTO_REFACTOR"
            ],
            "description": "Defines the mandatory handling strategy upon failure."
          },
          "override_rationale": {
            "type": [
              "string",
              "null"
            ],
            "description": "Mandatory text explanation if an axiom requires skipping or conditional passing."
          }
        }
      }
    }
  },
  "additionalProperties": false
}