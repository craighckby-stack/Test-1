{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://gsep.ai/schemas/acvd_policy_v94.2.json",
  "type": "object",
  "title": "Axiom Constraint Validation Domain (ACVD) Policy Schema v94.2",
  "description": "Defines externalized constraints governing P-01 calculus, DSE parameters, and GSEP operational controls, guaranteeing deterministic configuration baseline (S01). Updated to include granular DSE mapping and enhanced auditability.",
  "required": [
    "ACVD_VERSION",
    "P01_CRITERIA",
    "GSEP_BEHAVIOR",
    "DSE_CONFIGURATION",
    "POLICY_METADATA"
  ],
  "properties": {
    "ACVD_VERSION": {
      "type": "string",
      "description": "Semantic versioning of the ACVD schema payload (e.g., V94.2).",
      "pattern": "^V\\d+\\.\\d+$"
    },
    "POLICY_METADATA": {
      "type": "object",
      "description": "Descriptive and administrative metadata for traceability, auditing, and deployment control.",
      "properties": {
        "POLICY_ID": {
          "type": "string",
          "description": "Unique identifier for this specific ACVD configuration set (e.g., 'ACVD-PROD-V94-S01').",
          "pattern": "^ACVD-[A-Z]+(-[A-Z0-9]+)+$"
        },
        "CREATION_DATE": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp indicating when the policy configuration was initially created."
        },
        "LAST_MODIFICATION_DATE": {
          "type": "string",
          "format": "date-time",
          "description": "Timestamp indicating the last time this policy was approved and modified."
        },
        "POLICY_AUTHOR": {
          "type": "string",
          "description": "Identifier of the entity or agent responsible for creating/approving this policy."
        },
        "IS_MANDATORY_BASELINE": {
          "type": "boolean",
          "description": "If TRUE, this policy cannot be overridden by dynamic environment variables or local flags, enforcing S01 baseline integrity."
        }
      },
      "required": [
        "POLICY_ID",
        "IS_MANDATORY_BASELINE",
        "POLICY_AUTHOR"
      ]
    },
    "P01_CRITERIA": {
      "type": "object",
      "description": "Constraints directly dictating the P-01 PASS/FAIL resolution and generalized axiom governance rules.",
      "properties": {
        "AXIOM_GOVERNANCE": {
          "type": "object",
          "description": "General enforcement rules applied across all P-01 axioms.",
          "properties": {
            "P01_FAIL_AUDIT_TRAIL_LEVEL": {
              "type": "string",
              "enum": [
                "MINIMAL",
                "VERBOSE",
                "FULL_STATE_DUMP"
              ],
              "description": "Required logging detail upon P-01 failure."
            }
          },
          "required": [
            "P01_FAIL_AUDIT_TRAIL_LEVEL"
          ]
        },
        "AXIOM_I_UTILITY": {
          "type": "object",
          "description": "Constraints for system efficacy (TEMM) and utility debt (ADTM).",
          "properties": {
            "MIN_EFFICACY_THRESHOLD_OMEGA": {
              "type": "number",
              "minimum": 0.0,
              "exclusiveMaximum": 1.0,
              "description": "Minimum TEMM score (Î©_min) required for P-01 PASS (strictly 0.0 < x < 1.0)."
            },
            "MAX_ALLOWABLE_UTILITY_DEBT_LOGS": {
              "type": "integer",
              "minimum": 0,
              "description": "Maximum permissible ADTM logs within a cycle before Integrity Halt (IH)."
            }
          },
          "required": [
            "MIN_EFFICACY_THRESHOLD_OMEGA",
            "MAX_ALLOWABLE_UTILITY_DEBT_LOGS"
          ]
        },
        "AXIOM_II_CONTEXT": {
          "type": "object",
          "description": "Constraints related to temporal context resolution (ECVM).",
          "properties": {
            "ECVM_VALIDATION_TIMEOUT_MS": {
              "type": "integer",
              "minimum": 100,
              "description": "Maximum time allowed (in milliseconds) for ECVM state resolution before IH."
            }
          },
          "required": [
            "ECVM_VALIDATION_TIMEOUT_MS"
          ]
        },
        "AXIOM_III_INTEGRITY": {
          "type": "object",
          "description": "Constraints focused on core operational integrity (MPAM).",
          "properties": {
            "ENFORCE_ZERO_MPAM_VIOLATIONS": {
              "type": "boolean",
              "description": "If TRUE, any MPAM entry triggers an automatic P-01 FAIL, enforcing zero-tolerance governance."
            }
          },
          "required": [
            "ENFORCE_ZERO_MPAM_VIOLATIONS"
          ]
        }
      },
      "required": [
        "AXIOM_GOVERNANCE",
        "AXIOM_I_UTILITY",
        "AXIOM_II_CONTEXT",
        "AXIOM_III_INTEGRITY"
      ]
    },
    "DSE_CONFIGURATION": {
      "type": "object",
      "description": "Dynamic State Efficacy (DSE) configuration influencing state monitoring sensitivity and deviation tolerance.",
      "properties": {
        "GLOBAL_MAX_STATE_DEVIATION_QUOTA_PCT": {
          "type": "number",
          "minimum": 0.0,
          "maximum": 100.0,
          "description": "Maximum global allowed deviation percentage from the codified target state (S01 baseline) before triggering DSE alerts."
        },
        "STATE_CHANGE_LOCK_TIMEOUT_MS": {
          "type": "integer",
          "minimum": 10,
          "description": "Duration (ms) for which the system maintains a change lock during self-modification protocols (SCP)."
        },
        "DSE_CRITICALITY_MAP": {
          "type": "array",
          "description": "Defines specific state modules and their dedicated deviation tolerance levels, overriding the global quota.",
          "items": {
            "type": "object",
            "properties": {
              "MODULE_ID": {
                "type": "string",
                "description": "Identifier for the monitored state module (e.g., 'CoreScheduler', 'MemoryPool')."
              },
              "MAX_DEVIATION_PCT": {
                "type": "number",
                "minimum": 0.0,
                "maximum": 100.0,
                "description": "Module-specific maximum deviation percentage."
              },
              "IH_ON_VIOLATION": {
                "type": "boolean",
                "description": "If TRUE, violation of this specific module's tolerance triggers an immediate IH, regardless of global quota."
              }
            },
            "required": [
              "MODULE_ID",
              "MAX_DEVIATION_PCT",
              "IH_ON_VIOLATION"
            ]
          }
        }
      },
      "required": [
        "GLOBAL_MAX_STATE_DEVIATION_QUOTA_PCT",
        "STATE_CHANGE_LOCK_TIMEOUT_MS",
        "DSE_CRITICALITY_MAP"
      ]
    },
    "GSEP_BEHAVIOR": {
      "type": "object",
      "description": "Operational constraints for the GSEP-C execution and failure protocols (Integrity Halt and Rollback).",
      "properties": {
        "IH_IMMEDIATE_ROLLBACK_REQUIRED": {
          "type": "boolean",
          "description": "If TRUE, Integrity Halt (IH) triggers mandatory Rollback Protocol (RRP) instantly."
        },
        "IH_MAX_RRP_ATTEMPTS_BEFORE_FREEZE": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum number of RRP attempts before the system enters a hard freeze/manual inspection state."
        },
        "IH_TELEMETRY_LEVEL": {
          "type": "string",
          "enum": [
            "BASIC",
            "DIAGNOSTIC",
            "FORENSIC"
          ],
          "description": "The required depth of telemetry logging captured immediately upon IH activation."
        }
      },
      "required": [
        "IH_IMMEDIATE_ROLLBACK_REQUIRED",
        "IH_MAX_RRP_ATTEMPTS_BEFORE_FREEZE",
        "IH_TELEMETRY_LEVEL"
      ]
    }
  }
}