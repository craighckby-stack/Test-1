{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "config/schemas/pipeline_config_meta.json",
  "title": "Sovereign AGI Pipeline Configuration Meta-Schema",
  "type": "object",
  "properties": {
    "version": {"type": "string", "description": "Semantic versioning of the configuration structure."},
    "pipeline_id": {"type": "string"},
    "description": {"type": "string"},
    "schema_ref": {"type": "string", "format": "uri-reference", "description": "Reference to the specific pipeline schema type within this meta-schema."},
    "execution_profile": {"type": "object", "required": ["runtime_type"]},
    "stages": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["stage_id", "handler", "dependencies", "parameters"],
        "properties": {
          "stage_id": {"type": "string"},
          "handler": {"type": "string", "description": "Fully qualified component class/path."},
          "dependencies": {"type": "array", "items": {"type": "string"}},
          "condition_trigger": {"type": "string", "enum": ["SUCCESS", "FAILURE", "ALWAYS"]},
          "resource_override": {"type": "object"}
        }
      }
    },
    "monitoring": {"type": "object"}
  },
  "required": ["version", "pipeline_id", "stages", "execution_profile"]
}