{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$id": "https://agi.sovereign/schemas/v94.1/gsc.schema.json",
  "title": "Sovereign AGI Generic System Configuration (GSC) Schema",
  "description": "Defines the structure for autonomous evolution tasks and code scaffolding directives.",
  "type": "object",
  "required": [
    "task_id",
    "priority",
    "execution_mode",
    "evolution_targets"
  ],
  "properties": {
    "task_id": {
      "type": "string",
      "description": "Unique identifier for the evolution task.",
      "pattern": "^[A-Z]{3}-\\d{5}$"
    },
    "priority": {
      "type": "string",
      "enum": [
        "CRITICAL",
        "HIGH",
        "MEDIUM",
        "LOW"
      ],
      "default": "MEDIUM"
    },
    "execution_mode": {
      "type": "string",
      "enum": [
        "AUTONOMOUS_REFLECTIVE",
        "DEBUG_STEPPING",
        "SANDBOX_SIMULATION"
      ],
      "description": "Mode determining how the evolution task is executed."
    },
    "max_iterations": {
      "type": "integer",
      "minimum": 1,
      "maximum": 50,
      "default": 10
    },
    "evolution_targets": {
      "type": "array",
      "description": "List of files or components designated for analysis and potential evolution.",
      "items": {
        "$ref": "#/$defs/FileReference"
      },
      "minItems": 1
    },
    "directives": {
      "type": "array",
      "description": "Specific, actionable commands for the AGI to follow.",
      "items": {
        "$ref": "#/$defs/Directive"
      }
    },
    "context_constraints": {
      "type": "object",
      "description": "Limits and context definition for the evolution process.",
      "properties": {
        "max_context_size": {
          "type": "integer",
          "default": 2048
        },
        "tool_blacklist": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": [
              "git",
              "npm",
              "docker"
            ]
          }
        }
      }
    }
  },
  "$defs": {
    "FileReference": {
      "type": "object",
      "required": [
        "path"
      ],
      "properties": {
        "path": {
          "type": "string",
          "description": "The relative path to the file or directory."
        },
        "current_hash": {
          "type": "string",
          "description": "Optional SHA hash for version locking/verification."
        },
        "intent": {
          "type": "string",
          "enum": [
            "REFINE",
            "REFACTOR",
            "OBSERVE",
            "DELETE"
          ],
          "default": "REFINE"
        }
      }
    },
    "Directive": {
      "type": "object",
      "description": "A specific, atomic operation requested.",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "FUNCTION_EXTRACTION",
            "DEPENDENCY_UPGRADE",
            "INTERFACE_STANDARDIZATION",
            "UNIT_TEST_COVERAGE"
          ]
        },
        "target": {
          "type": "string",
          "description": "The specific entity (file, function name, module) the directive applies to."
        },
        "details": {
          "type": "string",
          "description": "Human-readable context or constraints."
        }
      },
      "if": {
        "properties": {
          "type": {
            "const": "FUNCTION_EXTRACTION"
          }
        }
      },
      "then": {
        "required": [
          "target"
        ]
      }
    }
  }
}