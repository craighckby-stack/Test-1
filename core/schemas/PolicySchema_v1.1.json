{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "PolicySchema_v1.1",
  "type": "object",
  "properties": {
    "policyType": {
      "type": "string",
      "enum": ["FAILURE_VETO", "METRIC_CEILING", "DYNAMIC_ADVISORY"]
    },
    "metadata": {
      "type": "object",
      "properties": {
        "ruleId": {"type": "string", "pattern": "^GR-[A-Z0-9]+-[0-9]{3}$"},
        "version": {"type": "number"}
      },
      "required": ["ruleId", "version"]
    },
    "configuration": {
      "type": "object",
      "properties": {
        "targetScope": {"type": "array", "items": {"type": "string"}, "minItems": 1},
        "triggerCondition": {"type": "string"}, 
        "metricName": {"type": "string"},
        "ceilingValue": {"type": "number"}
      }
    }
  },
  "required": ["policyType", "metadata", "configuration"]
}