# TRUSTED EVIDENCE DATA STORE (TEDS) PROTOCOL SPECIFICATION R2.0 (INTEGRITY CORE)

## P00. PROTOCOL SCOPE & MANDATE
The TEDS protocol (TEDS/P-004) is mandatory for logging forensic data vectors whenever a system deviation triggers the Integrity Halt (IH/P-001) or the Rollback Protocol (RRP/P-003). TEDS ensures cryptographic immutability of the generated Failure Vector ($F_V$) to enable subsequent Policy Correction Subsystem (PCSS) analysis.

### P00.1 ACTORS & RESPONSIBILITIES
*   **Originating Agent (CRoT/GAX):** Generates and signs the $F_V$ record (ingress signature).
*   **TEDS Store (SHL):** Accepts and cryptographically chains $F_V$ records (commit signature).

## 1.0 DATA INGRESS REQUIREMENTS (P-004.1)
All data records ($F_V$) must include a non-repudiable cryptographic signature generated by the responsible Originating Agent (CRoT or GAX) prior to TEDS ingestion. This signature establishes the initial chain of custody.

## 2.0 STANDARD FAILURE VECTOR SCHEMA ($F_V$)

The TEDS record must strictly adhere to the following structure for all integrity events:

### 2.0.1 ROOT RECORD METADATA
| Field Name | Type | Description | Mandatory |
| :--- | :--- | :--- | :--- |
| `RecordID` | String (SHA-256) | Unique identifier for the committed TEDS record. | Yes |
| `SAG_AgentID` | String | Identifier of the originating GAX/CRoT instance. | Yes |

### 2.1 CONTEXT AND METADATA (CMT)
| Field Name | Type | Description |
| :--- | :--- | :--- |
| `TimestampUTC` | ISO 8601 | Precise time of failure detection (microsecond resolution). |
| `SAG_Version` | String | Sovereign AGI version/release identifier (e.g., V98.1 R2.0). |
| `CSR_AnchorHash` | Hex String (P-002) | Baseline configuration state hash reference. |

### 2.2 TRIGGER MECHANISM (TRM)
| Field Name | Type | Description |
| :--- | :--- | :--- |
| `LifecycleStage` | String (S00-S15) | The specific stage where deviation was detected (e.g., "S04/Planning"). |
| `TriggerProtocol` | String (IH/RRP) | The protocol initiating the TEDS mandate. |
| `ViolationID` | String | Identifier of the failed axiomatic rule (e.g., "Axiom I.B"). |
| `ScalarFlagVector` | Object/Map | Dictionary of P-01 input flags (e.g., `{"PVLM": true}`). |

### 2.3 CORE ARTIFACT STATE (CAS)
| Field Name | Type | Description |
| :--- | :--- | :--- |
| `TEMM_Value` | Float/Null | The Task Efficiency Maximization Metric value (if calculable). |
| `FASV_SchemaHash` | Hex String | Hash verifying the integrity of the state manifest structure itself. |
| `ASM_PartialSnapshot` | Encoded Data | The critical, verifiable segment of the Axiomatic State Manifest related to the failure boundary. |

## 3.0 IMMUTABILITY GUARANTEE (P-004.3)
TEDS mandates the use of the **Sequential Hashing Ledger (SHL/P-11)** for all data storage. $F_V$ records must be stored using an append-only, cryptographic chaining mechanism (e.g., Merkle DAG structure) indexed by SHL/P-11. The CRoT signature on the committed ledger block provides the final proof of $F_V$ integrity and non-modification.