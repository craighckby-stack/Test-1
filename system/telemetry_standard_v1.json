{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://sovereign.agi/telemetry/GGS_V2",
  "title": "Global Log Standard (G-Log) Telemetry Structure V2 (Enhanced Traceability)",
  "type": "object",
  "description": "Defines the required JSON structure for all operational and auditable telemetry emitted by the Sovereign System, focusing on full distributed tracing via Trace/Span IDs and structured resource identification.",
  "properties": {
    "timestamp_utc_iso": {
      "type": "string",
      "format": "date-time",
      "description": "Event timestamp, strictly UTC and ISO 8601 format."
    },
    "trace_id": {
      "type": "string",
      "pattern": "^[0-9a-f]{32}$",
      "description": "Root identifier for the entire execution path (32 hex characters, OpenTelemetry standard recommendation)."
    },
    "span_id": {
      "type": "string",
      "pattern": "^[0-9a-f]{16}$",
      "description": "Segment identifier within the Trace, enabling micro-operation tracing (16 hex characters)."
    },
    "module": {
      "type": "string",
      "description": "Subsystem/component responsible (e.g., Orchestration/CAC, DataVM/SDVM)."
    },
    "resource_instance": {
      "type": "string",
      "description": "Identifier of the specific compute instance/VM or container emitting the log."
    },
    "gate_stage": {
      "type": "string",
      "enum": [
        "S0_INITIATION",
        "S1_ANALYSIS",
        "S2_PLANNING",
        "S3_EXECUTION",
        "S4_CODING",
        "S5_VALIDATION",
        "S6_SYNTHESIS",
        "S7_REPORTING",
        "S8_CLEANUP"
      ],
      "description": "The specific Sovereign Gate where the event occurred (S0-S8 phase definitions)."
    },
    "level": {
      "type": "string",
      "enum": [
        "AUDIT",
        "CRITICAL",
        "ERROR",
        "WARNING",
        "INFO",
        "DEBUG"
      ],
      "description": "Severity level of the event."
    },
    "event_code": {
      "type": "string",
      "pattern": "^[A-Z]{3}-\\d{4}$",
      "description": "Standardized semantic event code (e.g., ORC-0012) for rapid lookups and indexing."
    },
    "message": {
      "type": "string",
      "description": "Human-readable primary log message."
    },
    "context_data": {
      "type": "object",
      "description": "Detailed context metrics, system state, or specialized payload snippets (e.g., Resource Consumption Metrics (RCM))."
    }
  },
  "required": [
    "timestamp_utc_iso",
    "trace_id",
    "span_id",
    "module",
    "resource_instance",
    "gate_stage",
    "level",
    "event_code",
    "message"
  ]
}